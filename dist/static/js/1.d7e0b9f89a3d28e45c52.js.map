{"version":3,"sources":["webpack:///src/components/common/Report.vue","webpack:///./src/components/common/Report.vue?b0a4","webpack:///./src/components/common/Report.vue"],"names":["Report","name","data","highScore","voteTime","mounted","_this","this","getHighRate","$axios","get","then","successResponse","console","log","voteStatus","window","localStorage","setItem","batch","catch","failResponse","methods","vote","id","_this2","post","getItem","createId","status","$message","showClose","message","exportReport","open","stopVote","_this3","startVote","_this4","_this5","common_Report","render","_vm","_h","$createElement","_c","_self","_v","staticStyle","margin-top","attrs","type","round","on","click","_l","item","key","margin-left","span","offset","index","align","body-style","padding","staticClass","width","height","src","fileUrl","_s","worksName","worksDesc","score","$event","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.d7e0b9f89a3d28e45c52.js","sourcesContent":["<template>\n  <div>\n  <H3>优秀作品展示</H3>\n    <el-button type=\"primary\" round style=\"margin-top: 20px\" @click=\"stopVote\">终止投票</el-button>\n    <el-button type=\"primary\" round style=\"margin-top: 20px\" @click=\"exportReport\">导出评审报告</el-button>\n    <el-button type=\"primary\" round style=\"margin-top: 20px\" @click=\"startVote\">开启下一轮评选</el-button>\n  <el-row>\n    <el-col :span=\"6\" v-for=\"item in highScore\" :key=\"item\" :offset=\"index > 0 ? 2 : 0\" style=\"margin-left: 80px;margin-top: 30px\">\n      <el-card align=\"center\" :body-style=\"{ padding: '0px' }\">\n        <img align=\"center\" style=\"width: 250px;height:250px\"  :src=\"item.fileUrl\" class=\"image\">\n        <div  style=\"padding: 14px;\">\n          <span>作品名：{{item.worksName}}</span><br/>\n          <span>作品介绍：{{item.worksDesc}}</span><br/>\n          <span>总票数：{{item.score}}</span><br/>\n          <div class=\"bottom clearfix\">\n            <el-button v-if=\"voteTime==1\" type=\"primary\" class=\"button\" @click=\"vote(item.id)\">投他一票</el-button>\n          </div>\n        </div>\n      </el-card>\n    </el-col>\n  </el-row>\n  </div>\n</template>\n\n<script>\n    export default {\n        name: \"Report\",\n      data(){\n          return{\n            highScore:[],\n            voteTime:''\n          }\n      },\n      mounted(){\n       this.getHighRate()\n        this.$axios\n          .get('/config/getConfig', {    //初始化页面时，按动态查询条件都为空\n\n          })\n          .then(successResponse => {\n            console.log(successResponse)\n            this.voteTime = successResponse.data.voteStatus\n            window.localStorage.setItem(\"batch\",successResponse.data.batch)\n          })\n          .catch(failResponse => {\n\n          })\n\n      },\n      methods:{\n          vote(id){\n            this.$axios\n              .post('/works/vote', {    //初始化页面时，按动态查询条件都为空\n                batch:window.localStorage.getItem(\"batch\"),\n                id:id,\n                createId:window.localStorage.getItem(\"userId\")\n              })\n              .then(successResponse => {\n                if(successResponse.status ==200){\n                  this.getHighRate()\n                  this.$message({\n                    showClose: true,\n                    message: successResponse.data\n                  });\n                }\n              })\n              .catch(failResponse => {\n\n              })\n        },\n        exportReport(){\n          window.open('http://47.103.29.16:8081/export/getHigh?batch='+window.localStorage.getItem(\"batch\"))\n\n        },\n        stopVote(){\n          this.$axios\n            .post('/config/updateVote', {    //初始化页面时，按动态查询条件都为空\n              id:1,\n              voteStatus:2\n            })\n            .then(successResponse => {\n              console.log(successResponse)\n              this.voteTime = successResponse.data.voteStatus\n            })\n            .catch(failResponse => {\n\n            })\n        },\n        startVote(){\n          this.$axios\n            .post('/config/updateVote', {    //初始化页面时，按动态查询条件都为空\n              id:1,\n              voteStatus:1,\n              batch:window.localStorage.getItem(\"batch\")+1\n            })\n            .then(successResponse => {\n              console.log(successResponse)\n              this.voteTime = successResponse.data.voteStatus\n            })\n            .catch(failResponse => {\n\n            })\n        },\n        getHighRate(){\n          this.$axios\n            .post('/works/getHighRate', {    //初始化页面时，按动态查询条件都为空\n\n            })\n            .then(successResponse => {\n\n              this.highScore=successResponse.data\n\n            })\n            .catch(failResponse => {\n\n            })\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/Report.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('H3',[_vm._v(\"优秀作品展示\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.stopVote}},[_vm._v(\"终止投票\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.exportReport}},[_vm._v(\"导出评审报告\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.startVote}},[_vm._v(\"开启下一轮评选\")]),_vm._v(\" \"),_c('el-row',_vm._l((_vm.highScore),function(item){return _c('el-col',{key:item,staticStyle:{\"margin-left\":\"80px\",\"margin-top\":\"30px\"},attrs:{\"span\":6,\"offset\":_vm.index > 0 ? 2 : 0}},[_c('el-card',{attrs:{\"align\":\"center\",\"body-style\":{ padding: '0px' }}},[_c('img',{staticClass:\"image\",staticStyle:{\"width\":\"250px\",\"height\":\"250px\"},attrs:{\"align\":\"center\",\"src\":item.fileUrl}}),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('span',[_vm._v(\"作品名：\"+_vm._s(item.worksName))]),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(\"作品介绍：\"+_vm._s(item.worksDesc))]),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(\"总票数：\"+_vm._s(item.score))]),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"bottom clearfix\"},[(_vm.voteTime==1)?_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.vote(item.id)}}},[_vm._v(\"投他一票\")]):_vm._e()],1)])])],1)}),1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f5e70cce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Report.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f5e70cce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Report.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Report.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Report.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f5e70cce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Report.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f5e70cce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/Report.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}