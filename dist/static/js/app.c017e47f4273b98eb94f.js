webpackJsonp([17],{"/xrD":function(e,t){},0:function(e,t){},"5TI3":function(e,t){},"6hsl":function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=o("VU/8")({name:"App"},r,!1,function(e){o("/xrD")},null,null).exports,l=o("/ocq"),i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.levelList,function(t,n){return t.name?o("el-breadcrumb-item",{key:n},[e._v(e._s(t.name))]):e._e()}),1)},staticRenderFns:[]};var s={name:"Home",components:{Breadcrumb:o("VU/8")({name:"Breadcrumb",data:function(){return{levelList:null}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this.$route.matched.filter(function(e){return e.name});e[0],this.levelList=e}},watch:{$route:function(){this.getBreadcrumb()}}},i,!1,function(e){o("qfLC")},null,null).exports},provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},computed:{},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})},handleCommand:function(e){"a"===e?this.$router.push("/home"):"b"===e&&(localStorage.removeItem("user"),this.$router.push("/login"))}},mounted:function(){}},u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[o("el-aside",{attrs:{width:"200px","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[o("el-menu",{staticStyle:{width:"200px"},attrs:{router:"","default-active":e.$route.name,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[o("el-menu-item",{attrs:{index:"/product/productCount"}},[o("i",{staticClass:"el-icon-s-home"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),e._v(" "),o("el-submenu",{attrs:{index:"/product"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-goods"}),e._v("作品信息管理")]),e._v(" "),o("el-menu-item-group",[o("el-menu-item",{attrs:{index:"/product/productlist"}},[e._v("作品列表")])],1)],2),e._v(" "),o("el-submenu",{attrs:{index:"/system"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-order"}),e._v("系统留言板管理")]),e._v(" "),o("el-menu-item-group",[o("el-menu-item",{attrs:{index:"/message/messagelist"}},[e._v("留言板列表")])],1)],2),e._v(" "),o("el-submenu",{attrs:{index:"/audit"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-custom"}),e._v("评委库管理")]),e._v(" "),o("el-menu-item-group",[o("el-menu-item",{attrs:{index:"/audit/auditList"}},[e._v("评委列表")])],1)],2),e._v(" "),o("el-submenu",{attrs:{index:"/admin"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-edit-outline"}),e._v("管理员信息管理")]),e._v(" "),o("el-menu-item-group",[o("el-menu-item",{attrs:{index:"/admin/adminList"}},[e._v("管理员列表")])],1)],2),e._v(" "),o("el-submenu",{attrs:{index:"/user"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-user-solid"}),e._v("用户信息管理")]),e._v(" "),o("el-menu-item-group",[o("el-menu-item",{attrs:{index:"/user/userlist"}},[e._v("用户列表")])],1)],2)],1)],1),e._v(" "),o("el-container",[o("el-header",[o("el-menu",{staticStyle:{width:"100%",height:"70px"},attrs:{"default-active":e.activeIndex2,mode:"horizontal","background-color":"#fff","text-color":"#B3C0D1","active-text-color":"#B3C0D1"},on:{select:e.handleSelect}},[o("Breadcrumb"),e._v(" "),o("el-dropdown",{on:{command:e.handleCommand}},[o("el-avatar",{attrs:{icon:"el-icon-user-solid"}}),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"a"}},[e._v("首页")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"b"}},[e._v("退出")])],1)],1)],1)],1),e._v(" "),o("el-main",[e.isRouterAlive?o("router-view"):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(s,u,!1,function(e){o("5TI3")},null,null).exports,m={name:"Login",data:function(){return{loginForm:{username:"",password:"",type:"1"},form:{userName:"",loginAccount:"",password:"",phoneNum:"",age:"",gender:"",level:"",profession:"",type:""},userId:"",responseResult:[],options:[{value:"1",label:"用户"},{value:"2",label:"管理员"},{value:"3",label:"评委"}],dialogTableVisible:!1,dialogFormVisible:!1}},methods:{login:function(){var e=this,t=this;this.$axios.post("/user/login",{loginAccount:this.loginForm.username,password:this.loginForm.password,type:this.loginForm.type}).then(function(o){if(200==o.status)if(""!=o.data){if(2==o.data.status)return void e.$message({message:"账户已被冻结！",type:"error"});console.error(o),e.userId=o.data.id,t.$store.commit("save",e.userId),t.$store.commit("login",o.data);var n=e.$route.query.redirect;switch(e.$axios.get("/config/getConfig",{}).then(function(e){window.localStorage.setItem("batch",e.data.batch)}).catch(function(e){}),console.log(n),o.data.type){case 1:e.$router.replace({path:"/"===n||void 0===n?"/user/productShow":n});break;case 2:e.$router.replace({path:"/"===n||void 0===n?"/product/productCount":n});break;case 3:e.$router.replace({path:"/"===n||void 0===n?"/user/productShow":n})}}else e.$message({message:"账号、密码或用户类型错误！",type:"error"});else e.$message({message:"登录失败！",type:"error"})}).catch(function(e){})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},register:function(){var e=this;this.$axios.post("/user/register",this.$qs.stringify({userName:this.form.userName,loginAccount:this.form.loginAccount,password:this.form.password,phoneNum:this.form.phoneNum,age:this.form.age,gender:this.form.gender,profession:this.form.profession,type:this.form.type,ticket:3})).then(function(t){200!=t.status&&e.$message({message:"注册失败！",type:"error"}),t.data?(e.$message("注册成功"),window.location.reload()):e.$message({message:"注册失败！",type:"error"})}).catch(function(e){})}}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("body",{attrs:{id:"poster"}},[o("el-form",{staticClass:"login-container",attrs:{"label-position":"left"}},[o("h3",{staticClass:"login_title"},[e._v("系统登录")]),e._v(" "),o("el-form-item",{attrs:{label:"登录账号"}},[o("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户类型"}},[o("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:"角色选择"},model:{value:e.loginForm.type,callback:function(t){e.$set(e.loginForm,"type",t)},expression:"loginForm.type"}},e._l(e.options,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",[o("el-button",{staticStyle:{width:"100px",margin:"10px",background:"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),o("el-button",{staticStyle:{float:"right",width:"100px",margin:"10px",background:"cornflowerblue",border:"none"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("注册")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"注册新用户",visible:e.dialogFormVisible,"modal-append-to-body":!1,width:"500px",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{attrs:{model:e.form,"label-width":"110px"}},[o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{staticStyle:{width:"auto"},attrs:{autocomplete:"off"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"账号"}},[o("el-input",{staticStyle:{width:"auto"},attrs:{autocomplete:"off"},model:{value:e.form.loginAccount,callback:function(t){e.$set(e.form,"loginAccount",t)},expression:"form.loginAccount"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{staticStyle:{width:"auto"},attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话"}},[o("el-input",{staticStyle:{width:"auto"},attrs:{type:"tel",autocomplete:"off"},model:{value:e.form.phoneNum,callback:function(t){e.$set(e.form,"phoneNum",t)},expression:"form.phoneNum"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"年龄"}},[o("el-input",{staticStyle:{width:"auto"},attrs:{type:"number",autocomplete:"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),3==e.form.type?o("el-form-item",{attrs:{label:"职称"}},[o("el-input",{staticStyle:{width:"auto"},attrs:{autocomplete:"off"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}})],1):e._e(),e._v(" "),o("el-form-item",{attrs:{label:"性别"}},[o("el-select",{staticStyle:{width:"auto"},attrs:{placeholder:"请选择性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[o("el-option",{attrs:{label:"男",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"女",value:"2"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"类型"}},[o("el-select",{staticStyle:{width:"auto"},attrs:{placeholder:"请选择用户类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[o("el-option",{attrs:{label:"用户",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"评委",value:"3"}})],1)],1),e._v(" "),3==e.form.type?o("el-form-item",{attrs:{label:"专业"}},[o("el-select",{staticStyle:{width:"auto"},attrs:{placeholder:"请选择专业类型"},model:{value:e.form.profession,callback:function(t){e.$set(e.form,"profession",t)},expression:"form.profession"}},[o("el-option",{attrs:{label:"理论",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"新闻",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"出版",value:"3"}}),e._v(" "),o("el-option",{attrs:{label:"文艺",value:"4"}}),e._v(" "),o("el-option",{attrs:{label:"文化经营管理",value:"5"}})],1)],1):e._e()],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var p=o("VU/8")(m,d,!1,function(e){o("6hsl")},null,null).exports;n.default.use(l.a);var f=new l.a({mode:"history",routes:[{path:"/",name:"Login2",component:p},{path:"/user/userMain",name:"评委页面",component:function(){return o.e(0).then(o.bind(null,"QMPV"))},children:[{path:"/user/productScore",name:"评委评分",component:function(){return o.e(9).then(o.bind(null,"IPvA"))}},{path:"/user/advance",name:"晋级操作",component:function(){return o.e(10).then(o.bind(null,"1ct/"))}},{path:"/user/report",name:"二次投票",component:function(){return o.e(1).then(o.bind(null,"1mrr"))}}]},{path:"/user/userMain",name:"用户页面",component:function(){return o.e(0).then(o.bind(null,"QMPV"))},children:[{path:"/user/userCenter",name:"用户中心",component:function(){return o.e(3).then(o.bind(null,"AtsS"))}},{path:"/user/userProduct",name:"用户查看产品",component:function(){return o.e(14).then(o.bind(null,"/RYN"))}},{path:"/user/productShow",name:"产品展示页",component:function(){return o.e(15).then(o.bind(null,"OjBQ"))}},{path:"/user/userMessageList",name:"留言列表",component:function(){return o.e(13).then(o.bind(null,"/UAI"))}}]},{path:"/login",name:"Login",component:p},{path:"/home",name:"首页",component:c,meta:{requireAuth:!1},children:[{path:"/product/productlist",name:"商品列表",component:function(){return o.e(11).then(o.bind(null,"EXer"))}},{path:"/product/productCount",name:"商品统计",component:function(){return o.e(4).then(o.bind(null,"RzJC"))}},{path:"/product/productadd",name:"添加商品",component:function(){return o.e(8).then(o.bind(null,"XbI7"))}},{path:"/product/productcategory",name:"商品分类",component:function(){return o.e(12).then(o.bind(null,"GnBY"))}},{path:"/admin/adminList",name:"管理员列表",component:function(){return o.e(6).then(o.bind(null,"68Oq"))}},{path:"/audit/auditlist",name:"评委列表",component:function(){return o.e(2).then(o.bind(null,"UlWL"))}},{path:"/message/messagelist",name:"留言列表",component:function(){return o.e(7).then(o.bind(null,"a9lm"))}},{path:"/user/userlist",name:"用户列表",component:function(){return o.e(5).then(o.bind(null,"k0xq"))}}]}]}),h=o("zL8q"),v=o.n(h),g=o("8+8L"),b=(o("tvR6"),o("mvHQ")),w=o.n(b),_=o("NYxO");n.default.use(_.a);var y=new _.a.Store({state:{user:{username:"undefined"===window.localStorage.getItem("user")||null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username},userId:{id:"undefined"===window.localStorage.getItem("userId")||null==window.localStorage.getItem("userId")?"":JSON.parse(window.localStorage.getItem("userId")).id},batch:{id:"undefined"===window.localStorage.getItem("batch")||null==window.localStorage.getItem("batch")?1:window.localStorage.getItem("batch")},rounds:{id:"undefined"===window.localStorage.getItem("rounds")||null==window.localStorage.getItem("rounds")?1:window.localStorage.getItem("rounds")}},mutations:{login:function(e,t){e.user=t,null!=t&&window.localStorage.setItem("user",w()(t))},save:function(e,t){e.userId=t,window.localStorage.setItem("userId",w()(t))}}}),x=o("mw3O"),$=o.n(x),S=o("XLwt"),I=o.n(S);n.default.use(I.a),n.default.prototype.$echarts=I.a,n.default.prototype.$qs=$.a;var k=o("mtWM");k.defaults.baseURL="http://47.103.29.16:8081/",n.default.prototype.$axios=k,n.default.config.productionTip=!1,n.default.use(v.a),n.default.use(g.a),f.beforeEach(function(e,t,o){e.meta.requireAuth?y.state.user.username?o():o({path:"login",query:{redirect:e.fullPath}}):o()}),new n.default({el:"#app",router:f,store:y,components:{App:a},template:"<App/>"})},qfLC:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c017e47f4273b98eb94f.js.map